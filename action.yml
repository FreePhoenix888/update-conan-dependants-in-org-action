name: 'Update conan dependants in organization'
description: 'Update conan dependants in organization repositories'
author: 'FreePhoenix888'
branding:
  icon: 'arrow-up-circle'
  color: 'blue'
inputs:
  organization:
    required: true
    description: 'The name of the organization whose repositories must be updated to change the conan dependency version.'
  token:
    required: true
    description: 'Token'
  conanFilePath:
      required: true
      description: 'Path of the conanfile.txt in organization repositories.'
  commitMessage:
      required: true
      description: 'The commit message that will be used to update conanfile.txt.'
  sourceBranchName:
      required: true
      description: 'The name of the branch that will be taken as the basis.'
  destinationBranchName:
      required: true
      description: 'The name of the branch that will be used to publish the new commit.'
  conanFileReplaceableRegex:
      required: true
      description: 'The regex that will be replaced in the conanfile.txt.'
  conanFileReplacement:
      required: true
      description: 'The text that will be inserted instead of the replaceable regex.'
  shouldOpenPullRequest:
      required: true
      description: 'true or false value that determines whether the pull request should be opened. Redundant if the destination branch name is the same as the source branch name.'
  pullRequestTitle:
      required: true
      description: 'The title of the pull request that will be opened.'
  pullRequestBody:
    required: true
    description: 'The body of the pull request that will be opened.'

runs:
  using: 'node16'
  main: 'dist/index.js'
